<h2>BraDyCMS' OAI-PMH interface</h2>
<div class="row-fluid">
	
	<div class="span6">
		<h3>Intro</h3>
		
		<p>BraDyCMS supports by default the Open Archives Initiative Protocol for Metadata Harvesting, <strong>OAI-PMH</strong> [<a href="http://www.openarchives.org/pmh" target="_blank">web</a>]).</p>
		<p>The BraDypUS implementation of this insterface uses the <code>oaiprovider-php</code> freely available in <a href="https://github.com/martijnvogten/oaiprovider-php" target="_blank">GitHub</a>.</p>
		<p>This interface can be reached at postponing <code>/OAI</code> to the main url of the website. If your website is available the the URL <code>http://my-host.ext</code> the URL of the OAI-PMH interface will be <code>http://my-host.ext/OAI</code>.</p>
		
		<p>All the configuration can be handled using a single <a href="http://www.json.org/" target="_blank">JSON </a> file named <code>config.json</code> and located in the <code>sites/default/modules/oai</code> folder of the web direcory where BraDyCMS is installed.</p>
		<p>In the right can be found a full working example of a OAI-PMH configuration file</p>
		
		<h3>Configuration</h3>
		
		<dl>
			<dt><code>repositoryName</code></dt>
			<dd>(string) The name of the repository you are setting up</dd>
			
			<dt><code>baseURL</code></dt>
			<dd>(string) The full URl where the interface is available</dd>
			
			<dt><code>protocolVersion</code></dt>
			<dd>(string) The OAI-PMH version. The BraDyCMS supports the version 2.0</dd>
			
			<dt><code>adminEmail</code></dt>
			<dd>(string) System adiministrator email address</dd>
			
			<dt><code>sets</code></dt>
			<dd>(array) Array with information about available sets. A repository can contain one or more sets</dd>
			
			<dt><code>sets.spec</code></dt>
			<dd>(string) Set's ID</dd>
			
			<dt><code>sets.name</code></dt>
			<dd>(string) Set's name</dd>
			
			<dt><code>table</code></dt>
			<dd>(object) Object that maps table fields to the reposotory object</dd>
			
			<dt><code>table.name</code></dt>
			<dd>(string) Full name of the table containing the record data</dd>
			
			<dt><code>table.id</code></dt>
			<dd>(string) The name of the table field containing the unique ID of the record to use in the DOI string</dd>
			
			<dt><code>table.lastchanged</code></dt>
			<dd>(string) The name of the table field containing the datetime of the last changes applied to the record</dd>
			
			<dt><code>table.deleted</code></dt>
			<dd>(string) The name of the table field containig the article's availability status as a boolean value</dd>
			
			<dt><code>table.category</code></dt>
			<dd>(string) The name of the table field containing the article's category. The values of this field <strong>MUST</strong> match the list of the <code>sets.spec</code> described above</dd>
			
			<dt><code>table.title</code></dt>
			<dd>(string) The name of the table field containing the article's title (DC.title)</dd>
			
			<dt><code>table.translated_title</code></dt>
			<dd>(string) The name of the table field containing the article's second or translated title. This param is optional</dd>
			
			<dt><code>table.creator</code></dt>
			<dd>(string) The name of the table field containing the article's creator (DC.creator)</dd>
			
			<dt><code>table.description</code></dt>
			<dd>(string) The name of the table field containing the article's description or abstract (DC.description)</dd>
			
			<dt><code>publisher</code></dt>
			<dd>(string) Publisher's name</dd>
			
			<dt><code>doi_prefix</code></dt>
			<dd>(string) Publisher's DOI prefix</dd>

			<dt><code>journal_suffix</code></dt>
			<dd>(string) Journal's doi prefix</dd>

			<dt><code>issn</code></dt>
			<dd>(string) Journals ISSN number</dd>
		</dl>
		
		
		  
	</div>

<div class="span6">
	<h2>Example of configuration file</h2>
	<p>File: <code>./sites/default/modules/oai/config.json</code></p>
<pre class="prettyprint lang-js">
{
  "repositoryName"  : "E-Review. Rivista degli Istituti Storici dell'Emilia-Romagna in Rete",
  "baseURL"      : "http://e-review.it/OAI",
  "protocolVersion"  : "2.0",
  "adminEmail"    : "oai@e-review.it",
  "sets"        : [
    {
      "spec" : "dossier_2013",
      "name" : "Sezione principale, anno 2013"
    },
    {
      "spec" : "formazione",
      "name" : "Sezione dedicata alla formazione"
    },
    {
      "spec" : "patrimonio",
      "name" : "Sezione dedicata al patrimonio"
    },
    {
      "spec" : "usopubblico",
      "name" : "Sezione dedicata all'usopubblico"
    }
  ], 
  
  "table" :
  {
    "name" : "erev__articles",
    "id" : "doi",
    "lastchanged" : "updated",
    "deleted" : "status",
    "category" : "section",
    "title" : "title",
    "translated_title": "english_title",
    "creator" : "author",
    "description" : "summary"
  }, 
  "publisher": "BraDypUS",
  "doi_prefix": "10.12977",
  "journal_suffix": "erev",
  "issn": "ISSN:2282-4979"
}
</pre>
	</div>
	
	
</div>


<script>window.prettyPrint && prettyPrint()</script>